(function (a) {
    a.fn.formobj = function (c) {
        var f = {domains: [], egridFilter: null, cgridFilter: null, egridFilterRemoved: true, egrid: true, cgrid: true};
        c = a.extend(f, c);
        var b = c.domains;
        if (b && b.length > 0) {
            var e = new Object();
            for (var d = 0; d < b.length; d++) {
                var g = b[d], h = a("#" + g, this);
                e[g] = a.jsonDomain(h, c)
            }
            return e
        } else {
            return a.jsonDomain(this, c)
        }
    };
    a.jsonDomain = function (j, c) {
        var b = [], h, f = c.gridFilter;
        a("*", j).add(j).filter(function (u) {
            var k = this, x = k.tagName.toLowerCase(), l = k.id ? k.id : k.name, p = k.egrid, m = k.cgriddata;
            if (p) {
                if (c.egrid) {
                    b.push(p.getData(c.egridFilter, c.egridFilterRemoved))
                }
            } else {
                if (m) {
                    if (c.cgrid) {
                        var e = new Array(), o = k.cgridrows;
                        for (var q = 0; q < m.length; q++) {
                            if (c.cgridFilter && !c.cgridFilter(m[q], o[q])) {
                                continue
                            }
                            e.push(m[q])
                        }
                        b.push(e)
                    }
                } else {
                    if (x && l && !k.disabled && !k.ignore) {
                        switch (x) {
                            case"input":
                                var s = k.type;
                                if (s == "button" || s == "reset" || s == "submit" || s == "image" || l == "_json_params") {
                                    break
                                }
                            case"textarea":
                            case"select":
                                if (h && l in h) {
                                    if (k.type != "radio") {
                                        h = new Object();
                                        b.push(h)
                                    }
                                }
                                var w = a.fieldValue(k, true);
                                if (!h) {
                                    h = new Object();
                                    b.push(h)
                                }
                                if (!h[l]) {
                                    h[l] = w
                                }
                        }
                    }
                }
            }
            return false
        });
        if (b.length == 1 && !f) {
            return b[0]
        } else {
            if (f) {
                var g = [];
                for (var d = 0; d < b.length; d++) {
                    if (!f(b[d])) {
                        continue
                    }
                    g.push(b[d])
                }
                b = g
            }
            return b
        }
    };
    a.fieldValue = function (d, f) {
        var e = d.id ? d.id : d.name, c = d.type, b = d.tagName.toLowerCase();
        if (typeof f == "undefined") {
            f = true
        }
        if (f && (!e || d.disabled || c == "reset" || c == "button" || (c == "checkbox" || c == "radio") && !d.checked || (c == "submit" || c == "image") && d.form && d.form.clk != d)) {
            return null
        }
        return d.value
    };
    a.fn.fillform = function (b) {
        this.each(function (c) {
            var d = a(this);
            for (var e in b) {
                a("#" + e, d).each(function (j) {
                    var k = this, f = k.tagName.toLowerCase(), g = b[e];
                    var h = k.type, l = k.value;
                    switch (f) {
                        case"input":
                            switch (h) {
                                case"text":
                                    a(k).val(g);
                                    break;
                                case"number":
                                    a(k).val(g);
                                    break;
                                case"hidden":
                                    a(k).attr("value", g);
                                    break;
                                case"email":
                                    a(k).val(g);
                                    break;
                                case"password":
                                    a(k).attr("value", g);
                                    break;
                                case"checkbox":
                                    if (g == l) {
                                        k.checked = true
                                    }
                                    break
                            }
                            break;
                        case"textarea":
                            a(k).attr("value", g);
                            break;
                        case"select":
                            a(k).val(g);
                            break;
                        default:
                            a(k).text(g)
                    }
                })
            }
        })
    }
})(jQuery);
(function ($) {
    var m = {"\b": "\\b", "\t": "\\t", "\n": "\\n", "\f": "\\f", "\r": "\\r", '"': '\\"', "\\": "\\\\"}, s = {
        array: function (x) {
            var a = ["["], b, f, i, l = x.length, v;
            for (var i = 0; i < l; i += 1) {
                v = x[i];
                f = s[typeof v];
                if (f) {
                    v = f(v);
                    if (typeof v == "string") {
                        if (b) {
                            a[a.length] = ","
                        }
                        a[a.length] = v;
                        b = true
                    }
                }
            }
            a[a.length] = "]";
            return a.join("")
        }, date: function (x) {
            return s.string(x.dateFormat("Y-m-d"))
        }, "boolean": function (x) {
            return String(x)
        }, "null": function (x) {
            return "null"
        }, number: function (x) {
            return isFinite(x) ? String(x) : "null"
        }, object: function (x) {
            if (!(x instanceof Object)) {
                return "null"
            }
            if (x) {
                if (x instanceof Array) {
                    return s.array(x)
                } else {
                    if (x instanceof Date) {
                        return s.date(x)
                    }
                }
                var a = ["{"], b, f, i, v;
                for (var i in x) {
                    v = x[i];
                    f = s[typeof v];
                    if (f) {
                        v = f(v);
                        if (typeof v == "string") {
                            if (b) {
                                a[a.length] = ","
                            }
                            a.push(s.string(i), ":", v);
                            b = true
                        }
                    }
                }
                a[a.length] = "}";
                return a.join("")
            }
            return "null"
        }, string: function (x) {
            if (/["\\\x00-\x1f]/.test(x)) {
                x = x.replace(/([\x00-\x1f\\"])/g, function (a, b) {
                    var c = m[b];
                    if (c) {
                        return c
                    }
                    c = b.charCodeAt();
                    return "\\u00" + Math.floor(c / 16).toString(16) + (c % 16).toString(16)
                })
            }
            return '"' + x + '"'
        }
    };
    jQuery.toJSON = function (v) {
        var f;
        if (isNaN(v)) {
            f = s[typeof v]
        } else {
            f = (v instanceof Array) ? s.array : s.number
        }
        if (f) {
            return f(v)
        }
    };
    jQuery.parseJSON = function (v, safe) {
        if (safe === undefined) {
            safe = jQuery.parseJSON.safe
        }
        if (safe && !/^("(\\.|[^"\\\n\r])*?"|[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t])+?$/.test(v)) {
            return undefined
        }
        return eval("(" + v + ")")
    };
    jQuery.parseJSON.safe = false
})(jQuery);